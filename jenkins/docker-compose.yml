version: '3.9'

services:

    jenkins:
        container_name: jenkins
        image: jenkins/jenkins
        networks:
            - nginx-proxy
        # ports:
        #     - "8000:8080"
        # environment:
        #     VIRTUAL_HOST: jenkins.domain.com
        #     VIRTUAL_PORT: 8000
        volumes:
            - jenkins_home:/var/jenkins
        restart: unless-stopped

networks:
    nginx-proxy:
        external:
            name: nginx-proxy

volumes:
    jenkins_home:
        name: jenkins-var_jenkins
